<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Login — Sanitation Report</title>
  <style>
    :root{
      --blue:#0d6efd;
      --navy:#0749a7;
      --muted:#6c757d;
      --bg:#f7fbff;
      --card:#ffffff;
      --radius:12px;
      font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    }

    html,body{
      height:100%;
      margin:0;
      background: var(--blue); /* solid blue background */
      color:#ffffff;
    }

    .centered{
      min-height:100%;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:32px;
    }

    .card{
      width:100%;
      max-width:480px;
      background:var(--card);
      border-radius:var(--radius);
      box-shadow: 0 8px 30px rgba(7,40,84,0.08);
      padding:28px;
      box-sizing:border-box;
      border:1px solid rgba(13,110,253,0.08);
      color:#0b2640; /* keep form text dark */
    }

    header h1{
      margin:0 0 6px 0;
      font-size:20px;
      color:var(--navy);
    }

    header p{
      margin:0 0 18px 0;
      color:var(--muted);
      font-size:14px;
    }

    form .field{
      display:flex;
      flex-direction:column;
      gap:8px;
      margin-bottom:14px;
    }

    label{
      font-size:13px;
      color:#16324a;
    }

    input[type="text"],
    input[type="email"],
    input[type="password"]{
      padding:10px 12px;
      border-radius:8px;
      border:1px solid rgba(7,40,84,0.08);
      font-size:15px;
      outline: none;
      background: #fbfdff;
    }

    input:focus{
      border-color:var(--blue);
      box-shadow: 0 0 0 4px rgba(13,110,253,0.06);
    }

    .actions{
      display:flex;
      gap:10px;
      align-items:center;
      justify-content:space-between;
      margin-top:6px;
    }

    .btn{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding:10px 14px;
      border-radius:10px;
      border: none;
      cursor:pointer;
      font-weight:600;
      font-size:15px;
    }

    .btn-primary{
      background: linear-gradient(180deg,var(--blue),var(--navy));
      color:white;
      box-shadow: 0 6px 18px rgba(13,110,253,0.12);
    }

    .btn-ghost{
      background:transparent;
      border:1px solid rgba(7,40,84,0.08);
      color:var(--navy);
    }

    .google-btn{
      width:100%;
      display:inline-flex;
      justify-content:center;
      padding:10px 12px;
      gap:10px;
      border-radius:10px;
      border:1px solid rgba(7,40,84,0.08);
      cursor:pointer;
      background:#fff;
      font-weight:600;
      color:#0b2640;
    }

    .helper{
      font-size:13px;
      color:var(--muted);
      margin-top:10px;
    }

    .error{
      color:#b00020;
      font-size:13px;
    }

    .small{
      font-size:13px;
      color:var(--muted);
    }

    .row {
      display:flex;
      gap:10px;
      align-items:center;
    }

    .checkbox{
      display:flex;
      align-items:center;
      gap:8px;
      font-size:13px;
      color:var(--muted);
    }

    footer{
      margin-top:18px;
      text-align:center;
      font-size:13px;
      color:var(--muted);
    }

    /* Responsive */
    @media (max-width:520px){
      .card{ padding:20px; border-radius:10px; }
    }
  </style>
</head>
<body>
  <div class="centered">
    <main class="card" role="main" aria-labelledby="title">
      <header>
        <h1 id="title">Citizen Sanitation — Sign in</h1>
        <p>Report sanitation issues quickly. Use your account or sign in with Google.</p>
      </header>

      <button id="googleBtn" class="google-btn" aria-label="Sign in with Google">
        <svg width="18" height="18" viewBox="0 0 533.5 544.3" aria-hidden="true" focusable="false">
          <path fill="#4285F4" d="M533.5 278.4c0-18.5-1.5-36.3-4.3-53.6H272v101.6h146.9c-6.3 33.4-25.9 61.6-55.3 80.4v66.8h89.2c52.3-48.2 84.7-119.2 84.7-195.2z"/>
          <path fill="#34A853" d="M272 544.3c73.6 0 135.4-24.4 180.5-66.1l-89.2-66.8c-24.8 16.7-56.8 26.5-91.3 26.5-70.3 0-129.9-47.4-151.3-111.3H30.5v69.9C75.4 493.3 168.9 544.3 272 544.3z"/>
          <path fill="#FBBC05" d="M120.7 322.5c-6.6-19.6-10.4-40.6-10.4-62 0-21.4 3.8-42.4 10.4-62.1v-69.9H30.5C10.9 164.1 0 212.6 0 262.5s10.9 98.4 30.5 129.9l90.2-69.9z"/>
          <path fill="#EA4335" d="M272 107.1c39.9 0 75.8 13.7 104.1 40.7l78-78C411.3 22.8 345.6 0 272 0 168.9 0 75.4 51 30.5 128.5l90.2 69.9C142.1 154.6 201.7 107.1 272 107.1z"/>
        </svg>
        Sign in with Google
      </button>

      <div style="height:12px"></div>

      <form id="loginForm" novalidate>
        <div class="field">
          <label for="username">Username</label>
          <input id="username" name="username" type="text" autocomplete="username" required aria-required="true" placeholder="Full name or display name" />
          <div id="uErr" class="error" aria-live="polite"></div>
        </div>

        <div class="field">
          <label for="email">Email address</label>
          <input id="email" name="email" type="email" autocomplete="email" required aria-required="true" placeholder="you@example.com" />
          <div id="eErr" class="error" aria-live="polite"></div>
        </div>

        <div class="field">
          <label for="password">Password</label>
          <div style="display:flex;gap:8px;align-items:center;">
            <input id="password" name="password" type="password" autocomplete="current-password" required aria-required="true" placeholder="Minimum 6 characters" style="flex:1;" />
            <button type="button" id="togglePwd" class="btn btn-ghost" title="Show or hide password" aria-label="Toggle password visibility">Show</button>
          </div>
          <div id="pErr" class="error" aria-live="polite"></div>
        </div>

        <div class="row" style="justify-content:space-between;margin-bottom:6px;">
          <label class="checkbox"><input type="checkbox" id="remember" /> Remember me</label>
          <a href="#" class="small" onclick="alert('Password reset flow not implemented in this demo.'); return false;">Forgot?</a>
        </div>

        <div class="field">
          <button id="submitBtn" class="btn btn-primary" type="submit">Sign in</button>
        </div>

        <div class="helper">By signing in you agree to our <a href="#" onclick="alert('Terms placeholder'); return false;">Terms</a> and <a href="#" onclick="alert('Privacy placeholder'); return false;">Privacy</a>.</div>
      </form>

      <footer>
        <div style="margin-top:14px;">New user? <a href="#" onclick="alert('Registration flow not included in this example.'); return false;">Create an account</a></div>
      </footer>
    </main>
  </div>

  <script>
    (function(){
      const form = document.getElementById('loginForm');
      const u = document.getElementById('username');
      const e = document.getElementById('email');
      const p = document.getElementById('password');
      const uErr = document.getElementById('uErr');
      const eErr = document.getElementById('eErr');
      const pErr = document.getElementById('pErr');
      const togglePwd = document.getElementById('togglePwd');
      const googleBtn = document.getElementById('googleBtn');

      function clearErrors(){
        uErr.textContent = '';
        eErr.textContent = '';
        pErr.textContent = '';
      }

      function validEmail(v){
        return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(v);
      }

      togglePwd.addEventListener('click', () => {
        const type = p.type === 'password' ? 'text' : 'password';
        p.type = type;
        togglePwd.textContent = type === 'password' ? 'Show' : 'Hide';
      });

      form.addEventListener('submit', function(ev){
        ev.preventDefault();
        clearErrors();
        let ok = true;

        const username = u.value.trim();
        const email = e.value.trim();
        const pwd = p.value;

        if(username.length < 2){
          uErr.textContent = 'Please enter your name.';
          ok = false;
        }

        if(!validEmail(email)){
          eErr.textContent = 'Please enter a valid email address.';
          ok = false;
        }

        if(pwd.length < 6){
          pErr.textContent = 'Password must be at least 6 characters.';
          ok = false;
        }

        if(!ok) return;

        const user = { username: username, email: email, loggedAt: new Date().toISOString() };
        try {
          sessionStorage.setItem('sanitation_user', JSON.stringify(user));
        } catch(err){}

        window.location.href = 'problem.html';
      });

      googleBtn.addEventListener('click', function(){
        const googleUser = {
          username: 'Google User',
          email: 'googleuser@example.com',
          provider: 'google',
          loggedAt: new Date().toISOString()
        };
        try {
          sessionStorage.setItem('sanitation_user', JSON.stringify(googleUser));
        } catch(e){}
        window.location.href = 'problem.html';
      });

      p.addEventListener('keydown', function(e){
        if(e.key === 'Enter') form.dispatchEvent(new Event('submit', {cancelable:true}));
      });
    })();
  </script>
</body>
</html>
